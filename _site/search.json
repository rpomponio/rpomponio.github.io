[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Ray’s Blog",
    "section": "",
    "text": "Starting Pitcher Replacements in the Postseason: Time for survival methods?\n\n\n\n\n\n\n\nnews\n\n\ncode\n\n\nanalysis\n\n\n\n\n\n\n\n\n\n\n\nDec 18, 2023\n\n\nRay Pomponio\n\n\n\n\n\n\n  \n\n\n\n\nWelcome To My Blog\n\n\n\n\n\n\n\nnews\n\n\n\n\n\n\n\n\n\n\n\nDec 15, 2023\n\n\nTristan O’Malley\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "posts/welcome/index.html",
    "href": "posts/welcome/index.html",
    "title": "Welcome To My Blog",
    "section": "",
    "text": "This is the first post in a Quarto blog. Welcome!\n\nSince this post doesn’t specify an explicit image, the first image in the post will be used in the listing page of posts."
  },
  {
    "objectID": "posts/post-with-code/index.html",
    "href": "posts/post-with-code/index.html",
    "title": "Starting Pitcher Replacements in the Postseason: Time for survival methods?",
    "section": "",
    "text": "Focus on how this analysis works, rather than on statistical conclusions.\n\nTrend in baseball: earlier starting pitcher replacements\nSurvival analysis: time to event\nData: 2000-2019 MLB postseason\nEvent: starting pitcher replaced\nTime: batters faced\nCensoring: starting pitcher not replaced\nKaplan-Meier estimator\nCox proportional hazards model\nHazard ratios: interpretations\nLimitations and next steps\n\n\n\nThe goal of survival analysis is to understand the factors that lead to earlier (or later) event times. In a medical context, the event is often mortality (i.e., death of the patient). In this sense, medical researchers are typically most-concerned with the factors that lead to earlier mortality, or longer survival, hence the name ‘survival’ analysis.\n\n\n\nFigure 1: The Kaplan-Meier method illustrates the survival probabilities of two cohorts in a randomized trial (treatment and control). The NCSS software website provided this figure, along with a helpful overview of survival analysis. Source: https://www.ncss.com/software/ncss/survival-analysis-in-ncss/\n\n\nSurvival analysis is particularly useful when studying time-related phenomena with many possible risk factors, and when observational data are available. In professional sports, risk factors might be understood as game situations, i.e., what situations lead to a higher chance of the outcome? Data availability is usually not an issue, since events are now tracked to the play-level, and sometimes even greater levels of granularity.\nThere aren’t many examples of survival analysis applied to baseball, though one example studied how the length of player careers varied based upon the handedness of the player.1 In that example, the event of interest was the end of the player’s career; the unit of time was days. This analysis could help questions like, which throwing handedness tends to yield longer careers in the major leagues? (Spoiler: the author found that right-handed throwers teneded to last a little longer than lefties, on average).\nSurvival analysis includes a lot of the same features of linear regression. Linear regression is used in advanced metrics to adjust for factors like league-to-leage variability or positional differences.2 Importantly, survival analysis extends that framework to study events that are time-dependent, like the length of a player’s career. Studying career lengths with linear regression might be prone to certain kinds of bias, since career lengths are not normally-distributed.3\nIn the next section I will describe the data that were prepared to analyze starting pitcher replacements in the postseason.\n\n\n\nFor this analysis, I used play-by-play data from Retrosheet4 to construct a set of starting pitcher histories in the postseason. This required parsing the play-by-play events to identify game situations, such as the number of runners on base. It also required processing roster information to identify the handedness of the pitchers and batters they faced. In fact this data cleaning process was a heavy lift, since the play-by-play data are minimally-structured and contain only enough information to re-create the context of a particular game once a considerable amount of processing has been applied. Documentation for the play-by-play files is available5 and was extremely helpful in this early stage of the analysis.\nI chose to focus on the twenty postseasons between 2000 and 2019. This was for a few reasons. First, the more-recent postseasons since 2019 have been impacted by COVID-19 and major rule changes. I wanted to ensure my analysis was not complicated by any of those impacts. Secondly, the postseasons before 2000 are now so long ago that strategies around managing a starting pitcher are substantially different. Thus, I focus on 2000-2019 as a relatively stable, modern ‘era’ of postseason play. Within this window there were 611 postseason games available to analyze.\nHere’s what every postseason game log contains, after data processing was performed:\n\nLeague (e.g., NL/AL/World Series)\nPlayoff round\nPlayoff game number\nThe starting pitcher for each team\nA record of all plate appearances facing each starter, and outcomes (e.g., home-run, fly out)\nA running tally of the number of pitches thrown by each starter\nA running tally of the number of strikeouts achieved by each starter\nThe handedness of the pitcher and batter\n\nThe above list is incomplete since it does not contain crucial variables like the matchup history between a given batter and pitcher. However, I felt that the list was sufficient for beginning an inquiry into starting pitchers and the factors that affect their replacement. In the next few sections, I will define the key variables of interest for the analysis.\n\n\n\nFigure 2: An example of the game log for the 2019 NLCS (STL vs. WSH, game 4). Patrick Corbin was on the mound for the Nationals when Yadier Molina solo homer’d in the fourth inning. The Nats went on to win 7-4 behind Corbin’s 12-strikeout start.\n\n\n\n\n\nIn the playoffs, the timing of replacing the starting pitcher is one of the most crucial decisons faced by managers. Here is what sportswriter Jasyon Stark wrote about “hooks” in the wake of a catastrophic collapse of the Red Sox’s pitching in game seven of the 2003 ALCS:\n\nFor managers and the pitchers they manage, this is the question: Take him out, or leave him in? It is the question that hangs over every manager every game of every season. It is the question that leaves canyons under their eyes and fault lines in their forehead.6\n\nRed Sox manager Grady Little had just been fired after the team ended their season on a blown lead against the Yankees. Little’s decision to leave Pedro Martinez on the mound in the eighth inning was the turning point that contributed to their loss.\n\n\n\nFigure 3: Kevin Cash’s decision to pull Blake Snell in game six of the 2020 World Series ultimately backfired. Managers face consequential decisions like this throughout the playoffs, especially in high leverage situations. Photo: Tim Heitman (USA Today).\n\n\nIn the modern era, complete games are increasingly rare. In the dataset described in the previous section, of the 1218 starts analyzed, only 33 (2.7%) resulted in complete games. Thus managers are usually grappling with when to pull the starter, not if they should pull the starter. Of course, in the heat of the moment of a playoff game, this decision can resemble the form of a binary choice for each batter faced. In that sense, it’s like flipping a coin at the beginning of each plate appearance; the coin in this analogy has a low probability of coming up tails. The manager keeps flipping the coin, and it continues to show heads, until a later moment in the game when it shows tails. The first time this happens, the starter is pulled.\nI’m not suggesting that managers are actually flipping coins to guide their highly consequential decisions, but to an outside observer, the process of starting pitcher replacements can be modeled as a series of random coin tosses. That is what I will do in this analysis. I will define the event of interest as the replacement of the starter, and I will model the timing of that event using information available throughout the game, including the in-game performance of the pitcher and the opposing team’s offense.\nNext I will define the unit of time that’s used to measure how late into the game a starter will last.\n\n\n\nIn most survival analyses, the unit of time is apparent from the context. For example, in a study of biomedical treatments for cancer, it would make sense to measure time in years, since patients would be expected to survive for multiple years after receiving treatment.\nIn the previously mentioned analysis of players’ career lengths, time was measured in days. Whether days or years are used doesn’t really matter. The point is that time was measured measured in actual chronological clock time.\nContrast this with starting pitcher performances, where it doesn’t make sense to measure time in minutes or hours, because the baseball is not a sport with a running clock like football or basketball. What is the obvious choice for a unit of time in measuring how long a starter lasts? Innings pitched? Batters faced? Pitches thrown? The answer is not so obvious, and the choice of the unit of time requires some nuance.\nConsider that most starting pitchers are evaluated on innings pitched. You’d like to see a workhorse starter throw for more innings, on average. But in baseball, there is no uniform length of an inning. In fact, two different starters pitching 6 innings may actually throw substantially different numbers of pitches. That’s because the length of inning is determined by offensive and defensive events. For that reason, innings pitched is not the most appropriate unit of time for this analysis.\nInstead of innings pitched, the number of batters faced is a reasonable proxy of in-game time. Pitchers may throw different numbers of pitches, but you can generally expect a pitcher to throw about 3.8 pitches per batter faced in the long run. Additionally, pitchers are often replaced before facing a new batter, not mid-way through an at-bat.7 Thus the number of batters faced is a sensible choice for the unit of time."
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "About this blog"
  },
  {
    "objectID": "posts/post-with-code/index.html#survival-analysis",
    "href": "posts/post-with-code/index.html#survival-analysis",
    "title": "Survival Analysis with Pitching Data",
    "section": "",
    "text": "The goal of survival analysis is to understand the factors that lead to earlier (or later) event times. In a medical context, the event is often mortality (i.e., death of the patient). In this sense, medical researchers are typically most-concerned with the factors that lead to earlier mortality, or longer survival, hence the name ‘survival’ analysis.\nSurvival analysis is particularly useful when studying phenomena with many possible risk factors, and with available observational data. In professional sports, risk factors might be understood as game situations, i.e., what situations lead to a higher chance of the outcome? Data availability is usually not an issue, since events are tracked down to the play-level.\nThere aren’t many examples of survival analysis applied to baseball, though one example studied how the length of player careers based on the handedness of the player.1 In that example, the event of interest was the end of the player’s career; the unit of time was days. This analysis could help questions like, which throwing handedness tends to yield longer careers in the major leagues? (Spoiler: the author found that right-handed throwers teneded to last a little longer than lefties, on average).\nSurvival analysis includes a lot of the same features of linear regression. Linear regression is used in advanced metrics to adjust for factors like league-to-leage variability or positional differences.2 Importantly, survival analysis extends that framework to study events that are time-dependent, like the length of a player’s career. Studying career lengths with linear regression might be prone to certain kinds of bias, since career lengths are not normally distributed.3"
  },
  {
    "objectID": "posts/post-with-code/index.html#footnotes",
    "href": "posts/post-with-code/index.html#footnotes",
    "title": "Starting Pitcher Replacements in the Postseason: Time for survival methods?",
    "section": "Footnotes",
    "text": "Footnotes\n\n\nMicah Melling. “Survival Analysis: How Long Do Careers Last?.” Baseball Data Science. https://www.baseballdatascience.com/survival-analysis-how-long-do-careers-last/↩︎\nPiper Slowinski. “What is WAR?”. FanGraphs. https://library.fangraphs.com/misc/war/↩︎\nWikipedia. Normal Distribution. https://en.wikipedia.org/wiki/Normal_distribution↩︎\nRetrosheet. Play-by-Play Data Files: Post-Season Event Files. https://www.retrosheet.org/game.htm#Post-Season%20Games↩︎\nRetrosheet. The Event File. https://www.retrosheet.org/eventfile.htm↩︎\nJayson Stark. “The book on hooks.” ESPN.com: Baseball. https://www.espn.com/mlb/columns/story?columnist=stark_jayson&id=1798057↩︎\nAlden Woods. “Girardi makes pitching change mid-at-bat.” MLB.com. https://www.mlb.com/news/joe-girardi-makes-pitching-change-mid-at-bat/c-141252666↩︎"
  },
  {
    "objectID": "posts/post-with-code/index.html#survival-analysis-a-brief-overview",
    "href": "posts/post-with-code/index.html#survival-analysis-a-brief-overview",
    "title": "Starting Pitcher Replacements in the Postseason: Time for survival methods?",
    "section": "",
    "text": "The goal of survival analysis is to understand the factors that lead to earlier (or later) event times. In a medical context, the event is often mortality (i.e., death of the patient). In this sense, medical researchers are typically most-concerned with the factors that lead to earlier mortality, or longer survival, hence the name ‘survival’ analysis.\n\n\n\nFigure 1: The Kaplan-Meier method illustrates the survival probabilities of two cohorts in a randomized trial (treatment and control). The NCSS software website provided this figure, along with a helpful overview of survival analysis. Source: https://www.ncss.com/software/ncss/survival-analysis-in-ncss/\n\n\nSurvival analysis is particularly useful when studying time-related phenomena with many possible risk factors, and when observational data are available. In professional sports, risk factors might be understood as game situations, i.e., what situations lead to a higher chance of the outcome? Data availability is usually not an issue, since events are now tracked to the play-level, and sometimes even greater levels of granularity.\nThere aren’t many examples of survival analysis applied to baseball, though one example studied how the length of player careers varied based upon the handedness of the player.1 In that example, the event of interest was the end of the player’s career; the unit of time was days. This analysis could help questions like, which throwing handedness tends to yield longer careers in the major leagues? (Spoiler: the author found that right-handed throwers teneded to last a little longer than lefties, on average).\nSurvival analysis includes a lot of the same features of linear regression. Linear regression is used in advanced metrics to adjust for factors like league-to-leage variability or positional differences.2 Importantly, survival analysis extends that framework to study events that are time-dependent, like the length of a player’s career. Studying career lengths with linear regression might be prone to certain kinds of bias, since career lengths are not normally-distributed.3\nIn the next section I will describe the data that were prepared to analyze starting pitcher replacements in the postseason."
  },
  {
    "objectID": "posts/post-with-code/index.html#data-play-by-play-from-retrosheet",
    "href": "posts/post-with-code/index.html#data-play-by-play-from-retrosheet",
    "title": "Starting Pitcher Replacements in the Postseason: Time for survival methods?",
    "section": "",
    "text": "For this analysis, I used play-by-play data from Retrosheet4 to construct a set of starting pitcher histories in the postseason. This required parsing the play-by-play events to identify game situations, such as the number of runners on base. It also required processing roster information to identify the handedness of the pitchers and batters they faced. In fact this data cleaning process was a heavy lift, since the play-by-play data are minimally-structured and contain only enough information to re-create the context of a particular game once a considerable amount of processing has been applied. Documentation for the play-by-play files is available5 and was extremely helpful in this early stage of the analysis.\nI chose to focus on the twenty postseasons between 2000 and 2019. This was for a few reasons. First, the more-recent postseasons since 2019 have been impacted by COVID-19 and major rule changes. I wanted to ensure my analysis was not complicated by any of those impacts. Secondly, the postseasons before 2000 are now so long ago that strategies around managing a starting pitcher are substantially different. Thus, I focus on 2000-2019 as a relatively stable, modern ‘era’ of postseason play. Within this window there were 611 postseason games available to analyze.\nHere’s what every postseason game log contains, after data processing was performed:\n\nLeague (e.g., NL/AL/World Series)\nPlayoff round\nPlayoff game number\nThe starting pitcher for each team\nA record of all plate appearances facing each starter, and outcomes (e.g., home-run, fly out)\nA running tally of the number of pitches thrown by each starter\nA running tally of the number of strikeouts achieved by each starter\nThe handedness of the pitcher and batter\n\nThe above list is incomplete since it does not contain crucial variables like the matchup history between a given batter and pitcher. However, I felt that the list was sufficient for beginning an inquiry into starting pitchers and the factors that affect their replacement. In the next few sections, I will define the key variables of interest for the analysis.\n\n\n\nFigure 2: An example of the game log for the 2019 NLCS (STL vs. WSH, game 4). Patrick Corbin was on the mound for the Nationals when Yadier Molina solo homer’d in the fourth inning. The Nats went on to win 7-4 behind Corbin’s 12-strikeout start."
  },
  {
    "objectID": "adventure.html",
    "href": "adventure.html",
    "title": "Adventure",
    "section": "",
    "text": "I am an avid rock climber and mountaineer. I’ve kept logs of some of my larger adventures. Below are links to published trip reports.\n\n\n\nRock climbing in Boulder Canyon, Colorado."
  },
  {
    "objectID": "posts/post-with-code/index.html#defining-the-event-of-interest",
    "href": "posts/post-with-code/index.html#defining-the-event-of-interest",
    "title": "Starting Pitcher Replacements in the Postseason: Time for survival methods?",
    "section": "",
    "text": "In the playoffs, the timing of replacing the starting pitcher is one of the most crucial decisons faced by managers. Here is what sportswriter Jasyon Stark wrote about “hooks” in the wake of a catastrophic collapse of the Red Sox’s pitching in game seven of the 2003 ALCS:\n\nFor managers and the pitchers they manage, this is the question: Take him out, or leave him in? It is the question that hangs over every manager every game of every season. It is the question that leaves canyons under their eyes and fault lines in their forehead.6\n\nRed Sox manager Grady Little had just been fired after the team ended their season on a blown lead against the Yankees. Little’s decision to leave Pedro Martinez on the mound in the eighth inning was the turning point that contributed to their loss.\n\n\n\nFigure 3: Kevin Cash’s decision to pull Blake Snell in game six of the 2020 World Series ultimately backfired. Managers face consequential decisions like this throughout the playoffs, especially in high leverage situations. Photo: Tim Heitman (USA Today).\n\n\nIn the modern era, complete games are increasingly rare. In the dataset described in the previous section, of the 1218 starts analyzed, only 33 (2.7%) resulted in complete games. Thus managers are usually grappling with when to pull the starter, not if they should pull the starter. Of course, in the heat of the moment of a playoff game, this decision can resemble the form of a binary choice for each batter faced. In that sense, it’s like flipping a coin at the beginning of each plate appearance; the coin in this analogy has a low probability of coming up tails. The manager keeps flipping the coin, and it continues to show heads, until a later moment in the game when it shows tails. The first time this happens, the starter is pulled.\nI’m not suggesting that managers are actually flipping coins to guide their highly consequential decisions, but to an outside observer, the process of starting pitcher replacements can be modeled as a series of random coin tosses. That is what I will do in this analysis. I will define the event of interest as the replacement of the starter, and I will model the timing of that event using information available throughout the game, including the in-game performance of the pitcher and the opposing team’s offense.\nNext I will define the unit of time that’s used to measure how late into the game a starter will last."
  },
  {
    "objectID": "posts/post-with-code/index.html#defining-the-unit-of-time",
    "href": "posts/post-with-code/index.html#defining-the-unit-of-time",
    "title": "Starting Pitcher Replacements in the Postseason: Time for survival methods?",
    "section": "",
    "text": "In most survival analyses, the unit of time is apparent from the context. For example, in a study of biomedical treatments for cancer, it would make sense to measure time in years, since patients would be expected to survive for multiple years after receiving treatment.\nIn the previously mentioned analysis of players’ career lengths, time was measured in days. Whether days or years are used doesn’t really matter. The point is that time was measured measured in actual chronological clock time.\nContrast this with starting pitcher performances, where it doesn’t make sense to measure time in minutes or hours, because the baseball is not a sport with a running clock like football or basketball. What is the obvious choice for a unit of time in measuring how long a starter lasts? Innings pitched? Batters faced? Pitches thrown? The answer is not so obvious, and the choice of the unit of time requires some nuance.\nConsider that most starting pitchers are evaluated on innings pitched. You’d like to see a workhorse starter throw for more innings, on average. But in baseball, there is no uniform length of an inning. In fact, two different starters pitching 6 innings may actually throw substantially different numbers of pitches. That’s because the length of inning is determined by offensive and defensive events. For that reason, innings pitched is not the most appropriate unit of time for this analysis.\nInstead of innings pitched, the number of batters faced is a reasonable proxy of in-game time. Pitchers may throw different numbers of pitches, but you can generally expect a pitcher to throw about 3.8 pitches per batter faced in the long run. Additionally, pitchers are often replaced before facing a new batter, not mid-way through an at-bat.7 Thus the number of batters faced is a sensible choice for the unit of time."
  }
]