<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>rpomponio.github.io - Ray Pomponio</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">rpomponio.github.io</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link active" href="./index.html" rel="" target="" aria-current="page">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./about.html" rel="" target="">
 <span class="menu-text">About</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#current-work-sabr-analytics" id="toc-current-work-sabr-analytics" class="nav-link active" data-scroll-target="#current-work-sabr-analytics">Current Work: SABR Analytics</a>
  <ul class="collapse">
  <li><a href="#executive-summary" id="toc-executive-summary" class="nav-link" data-scroll-target="#executive-summary">Executive Summary</a></li>
  <li><a href="#results-overview" id="toc-results-overview" class="nav-link" data-scroll-target="#results-overview">Results Overview</a></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Ray Pomponio</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="current-work-sabr-analytics" class="level1">
<h1>Current Work: SABR Analytics</h1>
<p>The following work is an ongoing project, which I am submitting for presentation at the <a href="https://sabr.org/latest/submit-your-presentation-abstract-for-2024-sabr-analytics-conference/">2024 SABR Analytics Conference</a> in Arizona.</p>
<p>The (working) title of the project is, <em>Not If, But When: Modeling the timing of starting pitcher replacements in the postseason</em>.</p>
<section id="executive-summary" class="level2">
<h2 class="anchored" data-anchor-id="executive-summary">Executive Summary</h2>
<p><strong>Review of previous work on the subject:</strong> Recent sabermetrics work has observed a trend of earlier starting pitcher replacements in regular season [1, 2, 3] and postseason play [4, 5]. Earlier work modeled the in-game performance of starting pitchers, using short-term forecasts to evaluate decisions made by managers, and found that managers were far too often leaving starters in the game longer than warranted by analytics [6]. More recently, an evaluation of managers’ decisions to pull starters found no substantial biases in pulling pitchers too early or late when considering the decision’s impact on win probability [1].</p>
<p><strong>Summary of research methodology:</strong> In postseason play, the timing of starting pitcher replacements is among the most crucial decisions faced by managers, but sabermetrics has yet to model pitching replacements as time-to-event outcomes [7]. An approach that acknowledges the cumulative effect of time on the mound, as well as important in-game factors, would produce new insight into managerial decision making during highly consequential matchups. Towards this end, I modeled the time-to-replacement of starting pitchers in the 2000-2019 postseasons, controlling for in-game factors such as pitching volume, runners on base, and home runs conceded, as well as macro factors such as five-year season eras and designated hitter usage. <strong>Preliminary results:</strong> I found that starters in the 2015-19 postseason era were far more likely to be replaced against any given batter compared to the 2000-04 era (adj. Hazard Ratio: 2.69, 95% CI: 2.29 – 3.16), corroborating previous reports of a trend towards earlier starter replacements. To illustrate the magnitude of this effect, consider two typical starting pitchers (throwing 3.8 pitches per batter faced, and striking out 20% of batters). Both have faced the opposing team two times through the order (TTO), but one pitcher is in the 2000 AL and the other in the 2019 AL. The starter in 2000 would have a 70.3% chance of pitching a third TTO, while the starter in 2019 would only have a 38.8% chance of pitching a third TTO. With a runner in scoring position, these probabilities decline to 60.5% and 25.8%, respectively; the probabilities are similar if each pitcher has conceded one home run by that point in the game (60% and 25%, respectively).</p>
<p><strong>Expected contribution to the field of baseball analytics:</strong> This work elucidates trends in starting pitcher replacements that have been formerly described, but not yet modeled in a time-to-event fashion. Time-to-event analysis is a commonly used and flexible framework [8], enabling statistical inference of factors that contribute to earlier event times. An empirical model of managerial decision making is crucial to evaluating the effectiveness of pitching replacements; in order to ask, ‘was this a smart decision?’, we must first have a strong understanding of how other managers would have acted in similar game circumstances. This work lays foundations for advanced analytics of pitching replacements, considering time on the mound as the outcome of interest, with predictive capabilities that can be used for forecasting and post-game diagnostics.</p>
<p><strong>Research focus:</strong> pitcher replacements, bullpen strategy, managerial decision-making.</p>
<p><strong>Data Source:</strong> <a href="https://www.retrosheet.org/">RetroSheet.org</a></p>
</section>
<section id="results-overview" class="level2">
<h2 class="anchored" data-anchor-id="results-overview">Results Overview</h2>
<p>I grouped seasons into five-year eras, then analyzed the time-to-replacement in terms of total batters faced (TBF) for all starting pitchers in the postseason. I found that pitchers in the 2015-2019 era were far more likely to be replaced earlier in the game, versus their counterparts in previous seasons.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Kaplan-Meier Postseason Starters.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Kaplan Meier curves illustrating probabilities of remaining in-game for starting pitchers in postseason games 2000-2019. The result of the log-rank test suggests a difference across season-eras.</figcaption>
</figure>
</div>
<p>Next I fit a model to the postseason data, with the outcome as time-to-replacement, and included several important competitive factors such as pitching volume (pitches thrown per batter faced), strikeout rate, runners in scoring position, and handedness (differing handedness between batter and pitcher). All of the factors were computed cumulatively, i.e., I did not use data from later in the game to predict a starter’s replacement when facing a given batter. Additionally, I included season-eras and usage of designated hitters as factors in the model.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Cox Adjusted Model.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Estimated hazard ratios for the ‘replacement factors’ of starting pitchers. The replacement factors are thought to influence the timing of pitcher replacements in the postseason. A hazard ratio greater than one indicates a higher likelihood of pitcher replacement.</figcaption>
</figure>
</div>
<p>Finally, using the above model I estimated the chance of pitching a third time through the order (TTO) for two hypothetical starters in separate eras. The first pitcher is in the 2000-2004 era, when starters were expected to pitch relatively late in the game. The second pitcher is in the 2015-2019 era, when starters were replaced sooner in the game. The probabilities below reflect two scenarios, with the baseline scenario being no runners in scoring position (RISP) and no home runs conceded.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Cox Predicted Probabilities.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Predicted probabilities of pitching a third time through the order for two hypothetical pitchers. The only difference between the pitchers is the era in which they play. The RISP scenario means at least one runner is in scoring position.</figcaption>
</figure>
</div>
</section>
<section id="references" class="level2">
<h2 class="anchored" data-anchor-id="references">References</h2>
<p>[1] D. Finigan, B. M. Mills and D. F. Stone, “Pulling starters,” Journal of Behavioral and Experimental Economics, vol.&nbsp;89, 2020.</p>
<p>[2] R. Houston, “Call to the Bullpen: More Often and More Effective,” Samford University, 20 April 2018. [Online]. Available: https://www.samford.edu/sports-analytics. [Accessed November 2023].</p>
<p>[3] M. Orwin and C. Tien, “Call to the Bullpen: The Increase in MLB Reliever Usage,” Bruin Sports Analytics, 31 March 2022. [Online]. Available: https://www.bruinsportsanalytics.com/. [Accessed November 2023].</p>
<p>[4] J. Jaffe, “The Incredible Shrinking Postseason Starter,” FanGraphs, 18 October 2021. [Online]. Available: https://blogs.fangraphs.com/. [Accessed November 2023].</p>
<p>[5] J. Jaffe, “Postseason Starting Pitching Ain’t What It Used to Be, After All,” FanGraphs, 27 October 2023. [Online]. Available: https://blogs.fangraphs.com/. [Accessed November 2023].</p>
<p>[6] G. Ganeshapillai and J. Guttag, “A Data-driven Method for In-game Decision Making in MLB,” MIT Sloan Sports Analytics Conference, vol.&nbsp;8, 2014.</p>
<p>[7] M. Woodham, J. Hawkins, A. Singh and S. Chakraborty, “When to Pull Starting Pitchers in Major League Baseball? A Data Mining Approach,” IEEE International Conference On Machine Learning And Applications, vol.&nbsp;18, pp.&nbsp;426-431, 2019.</p>
<p>[8] P. Schober and T. R. Vetter, “Survival Analysis and Interpretation of Time-to-Event Data: The Tortoise and the Hare,” Anesthesia and analgesia, vol.&nbsp;127, no. 3, pp.&nbsp;792-798, 2018.</p>
<hr>


</section>
</section>

<p>Links: <a href="https://github.com/rpomponio">GitHub</a> | <a href="https://scholar.google.com/citations?user=TxEcZMMAAAAJ&amp;hl=en">Google Scholar</a></p></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>